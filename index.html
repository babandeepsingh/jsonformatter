<!DOCTYPE html>
<html>
<style>
    body {
        white-space: pre;
        font-family: monospace;
    }
</style>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<meta charset="UTF-8">
<meta name="description" content="Free JSON formatter">
<meta name="keywords" content="HTML,CSS,JSON, formatted, formatter, format,JavaScript">
<meta name="author" content="Babandeep Singh">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<body class="container">

    <h2>JavaScript JSON formatter</h2>
    <div class="alert alert-primary text-center">This is pure JS JSON formatter. We don't call any API or store data on server</div>
    <textarea class="form-control" name="" id="input-json" cols="30" rows="10"
        placeholder="Input the JSON to be formatter"></textarea>

    <button class="btn btn-outline-primary" onclick="myFunction()">Try it</button>

    <div class="" id="output-json"></div>

    <!-- <p id="demo"></p> -->

    <script>
        function myFunction() {
            var obj = { "hello": "world", "Test": ["hello"], "address": { "street": "578,partap nager", "city": "Amritsar" } }
            try {
                var obj1 = JSON.parse(document.querySelector('#input-json').value)
            }
            catch (err) {
                document.getElementById('output-json').innerHTML = err.message
            }
            // console.log(obj1)
            // document.body.innerHTML = "";
            document.getElementById('output-json').innerHTML = ""
            if (obj1) {
                try {
                    // alllert('asasa')
                    // document.getElementById('output-json').innerHTML = "<div class='alert alert-primary' role='alert'>JSON is formatted! Woohoo</div>"
                    document.getElementById('output-json').appendChild(document.createTextNode(JSON.stringify(obj1, null, 4)))
                    document.getElementById('output-json').contentEditable = true
                    document.getElementById('output-json').focus()
                    document.getElementById('output-json').scrollIntoView()
                    setTimeout(function () {
                        alert("JSON is formatted!!");
                    }, 10)
                }
                catch (err) {
                    document.getElementById('output-json').innerHTML = err.message
                }
            }
            else {
                document.getElementById('output-json').innerHTML = "<div class='alert alert-danger' role='alert'>Something went <b>Wrong!</b> Kindly <b>validate JSON</b> once!</div>"
                document.getElementById('output-json').contentEditable = false
            }

            // document.body.appendChild(document.createTextNode(JSON.stringify(obj1, null, 4)));
        }
    </script>

</body>

</html>
